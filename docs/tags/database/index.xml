<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>database on 一壶酒一溪云</title><link>https://typonotes.com/tags/database/</link><description>Recent content in database on 一壶酒一溪云</description><generator>Hugo -- gohugo.io</generator><language>zh-CN</language><lastBuildDate>Sat, 10 Oct 2020 00:00:00 +0000</lastBuildDate><atom:link href="https://typonotes.com/tags/database/index.xml" rel="self" type="application/rss+xml"/><item><title>tidb 备份恢复与迁移</title><link>https://typonotes.com/posts/2020/10/10/tidb-migrate/</link><pubDate>Sat, 10 Oct 2020 00:00:00 +0000</pubDate><guid>https://typonotes.com/posts/2020/10/10/tidb-migrate/</guid><description>tidb 备份恢复与迁移 https://pingcap.com/docs-cn/v2.1/reference/tools/download/ 1 wget https://download.pingcap.org/tidb-enterprise-tools-latest-linux-amd64.tar.gz 使用 mydumper 从 mysql/tidb 备份数据 https://pingcap.com/docs-cn/v2.1/how-to/maintain/backup-and-restore/ 使用 mydumper 备份 mydumper: https://github.com/maxbube/mydumper/releases 1 mydumper -h 127.0.0.1 -P 4000 -u root -t 32 -F 64 -B test -T t1,t2 --skip-tz-utc -o ./var/test 我们使用 -B test 表明是对 test 这个 database 操作，然后用 -T t1,t2 表明只导出 t1，t2 两张表。 -t 32 表明使用 32 个线程去导出数据。-F 64 是将实际的 table 切分成多大的 chunk，这里就是 64MB 一个 chunk。 --skip-tz-utc 添加这个参</description></item><item><title>TiDB 2.1 备份恢复与迁移</title><link>https://typonotes.com/posts/2020/04/23/tidb-backup-migrate/</link><pubDate>Thu, 23 Apr 2020 00:00:00 +0000</pubDate><guid>https://typonotes.com/posts/2020/04/23/tidb-backup-migrate/</guid><description>TiDB 2.1 备份恢复与迁移 备份 https://pingcap.com/docs-cn/v2.1/how-to/maintain/backup-and-restore/ 使用 mydumper 备份 mydumper: https://github.com/maxbube/mydumper/releases 1 mydumper -h 127.0.0.1 -P 4000 -u root -t 32 -F 64 -B test -T t1,t2 --skip-tz-utc -o ./var/test 我们使用 -B test 表明是对 test 这个 database 操作，然后用 -T t1,t2 表明只导出 t1，t2 两张表。 -t 32 表明使用 32 个线程去导出数据。-F 64 是将实际的 table 切分成多大的 chunk，这里就是 64MB 一个 chunk。 --skip-tz-utc 添加这个参数忽略掉 TiDB 与导数据的</description></item><item><title>怎么通过命令行方式向 mysql 数据库导入一个大型备份文件</title><link>https://typonotes.com/posts/2017/08/03/how-to-import-a-large-sql-dump-file-to-a-mysql-database-from-command-line/</link><pubDate>Thu, 03 Aug 2017 00:00:00 +0000</pubDate><guid>https://typonotes.com/posts/2017/08/03/how-to-import-a-large-sql-dump-file-to-a-mysql-database-from-command-line/</guid><description>怎么通过命令行方式向 mysql 数据库导入一个大型备份文件 接受了一个老项目，有个200多G 的文件需要恢复。里面有有几张记录日志的单表很大，在备份的时候没有使用 --extended-inster=False ， 因此，在使用 mysql database &amp;lt; file.sql 导入的时候，一不留神进程就死掉了。 google 了很久，最终得到以下答案 原文链接 ： https://cmanios.wordpress.com/2013/03/19/import-a-large-sql-dump-file-to-a-mysql-database-from-command-line/ 是通过在 mysql 交互界面中 source 文件的方式导入</description></item></channel></rss>