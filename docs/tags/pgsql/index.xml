<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>pgsql on 老麦的书房</title><link>https://typonotes.com/tags/pgsql/</link><description>Recent content in pgsql on 老麦的书房</description><generator>Hugo -- gohugo.io</generator><language>zh-CN</language><lastBuildDate>Thu, 01 Feb 2024 17:40:05 +0800</lastBuildDate><atom:link href="https://typonotes.com/tags/pgsql/index.xml" rel="self" type="application/rss+xml"/><item><title>Pgsql 时间加减</title><link>https://typonotes.com/posts/2024/02/01/pgsql-time-shift/</link><pubDate>Thu, 01 Feb 2024 17:40:05 +0800</pubDate><guid>https://typonotes.com/posts/2024/02/01/pgsql-time-shift/</guid><description>Pgsql 时间加减 建议点击 查看原文 查看最新内容。 原文链接: https://typonotes.com/posts/2024/02/01/pgsql-time-shift/ 时间管理 1 2 3 4 5 6 7 --时间加减 select now()+interval &amp;#39;1 year&amp;#39; ,now()+interval &amp;#39;-1 month&amp;#39; ,now()-interval &amp;#39;1 day&amp;#39; ,now()+interval &amp;#39;1 hour&amp;#39; ,100* interval &amp;#39;1 second&amp;#39; - 1*interval &amp;#39;1 minute&amp;#39;;</description></item><item><title>Pgsql 将数据移动到备份表</title><link>https://typonotes.com/posts/2024/02/01/pgsql-move-data-to-another-table/</link><pubDate>Thu, 01 Feb 2024 17:38:48 +0800</pubDate><guid>https://typonotes.com/posts/2024/02/01/pgsql-move-data-to-another-table/</guid><description>Pgsql 将数据移动到备份表 建议点击 查看原文 查看最新内容。 原文链接: https://typonotes.com/posts/2024/02/01/pgsql-move-data-to-another-table/ 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 -- -- 准备阶段， 删除表 drop table TABLE_Original; drop table TABLE_History; -- 创建 原始表， 模拟数据 create table TABLE_Original(ca varchar(10), createtime timestamp) insert into TABLE_Original(ca,createtime) values(&amp;#39;r1&amp;#39;,&amp;#39;2024-03-10&amp;#39;); insert into TABLE_Original(ca,createtime) values(&amp;#39;r1&amp;#39;,&amp;#39;2024-03-11&amp;#39;); insert into TABLE_Original(ca,createtime) values(&amp;#39;r1&amp;#39;,&amp;#39;2024-03-12&amp;#39;); insert into TABLE_Original(ca,createtime) values(&amp;#39;r1&amp;#39;,&amp;#39;2024-03-13&amp;#39;); -- 创建备份表 create table TABLE_History(ca varchar(10),createtime timestamp) -- -- 转移</description></item><item><title>Pgsql Create Readonly Account</title><link>https://typonotes.com/posts/2023/10/25/pgsql-create-readonly-account/</link><pubDate>Wed, 25 Oct 2023 11:14:11 +0800</pubDate><guid>https://typonotes.com/posts/2023/10/25/pgsql-create-readonly-account/</guid><description>Pgsql Create Readonly Account 建议点击 查看原文 查看最新内容。 原文链接: https://typonotes.com/posts/2023/10/25/pgsql-create-readonly-account/ 授权 schema 只读权限 登陆到数据库 1 $ psql -u root -d dbname ; 切换到对应数据库 1 sql&amp;gt; \c dbname; 创建用户并授权 1 2 3 4 5 6 7 8 9 10 11 12 -- 创建用户 CREATE USER &amp;lt;USER_RO&amp;gt; WITH PASSWORD &amp;#39;&amp;lt;PASS_FOR_USER_RO&amp;gt;&amp;#39;; -- 授权 public schema 可以不用。 -- 授权非 public schema 需要保留。 GRANT USAGE ON SCHEMA &amp;lt;SCHEMA_NAME&amp;gt; TO &amp;lt;USER_RO&amp;gt;; -- 授权制度权限 GRANT SELECT ON ALL TABLES IN SCHEMA &amp;lt;SCHEMA_NAME&amp;gt; TO &amp;lt;USER_RO&amp;gt;; --授予将来新</description></item><item><title>Aliyun RDS PostgreSQL权限管理最佳实践</title><link>https://typonotes.com/posts/2023/07/14/aliyun-rds-pgsql-permission-best-practise/</link><pubDate>Fri, 14 Jul 2023 11:19:07 +0800</pubDate><guid>https://typonotes.com/posts/2023/07/14/aliyun-rds-pgsql-permission-best-practise/</guid><description>Aliyun Rds Pgsql Permission Best Practise 建议点击 查看原文 查看最新内容。 原文链接: https://typonotes.com/posts/2023/07/14/aliyun-rds-pgsql-permission-best-practise/ 注意: 在 PgSQL 中， 用户是基于 实例 的， 权限是基于 数据表/数据库 的。 换句话说， 创建的用户是可以看见所有数据库和数据表的， 但是看不到其具体内容。 创建只读用户 0. 登陆/切换 目标数据库 直接登陆目标数据库 1 2 ## login psql -u root -d dbname ; 或者登陆后切换到目标</description></item><item><title>Pgsql Stop Spliting Values in Mulitple Lines</title><link>https://typonotes.com/posts/2023/07/13/pgsql-stop-spliting-values-in-mulitple-lines/</link><pubDate>Thu, 13 Jul 2023 17:37:09 +0800</pubDate><guid>https://typonotes.com/posts/2023/07/13/pgsql-stop-spliting-values-in-mulitple-lines/</guid><description>Pgsql Stop Spliting Values in Mulitple Lines 建议点击 查看原文 查看最新内容。 原文链接: https://typonotes.com/posts/2023/07/13/pgsql-stop-spliting-values-in-mulitple-lines/ psql doesn&amp;rsquo;t split your string in multiple lines. It&amp;rsquo;s the string that contains new-line characters (ASCII 10), and psql displays them accurately. The + at the end of every line is psql&amp;rsquo;s way of telling you that the value is continued in the next line. You can use the unaligned mode (psql option -A) to get rid of the +, but the output format is less attractive then. You can get rid of the newlines in a string with 1 2 3 4 5 SELECT translate(..., E&amp;#39;\n&amp;#39;, &amp;#39;&amp;#39;); # or SELECT REPLACE(..., E&amp;#39;\n&amp;#39;, &amp;#39;&amp;#39;); decode will be able to handle such a string.</description></item><item><title>Pgsql数据库: psql 命令非交互式备份与恢复</title><link>https://typonotes.com/posts/2023/01/02/pgsql-dump-and-restore/</link><pubDate>Mon, 02 Jan 2023 10:01:57 +0800</pubDate><guid>https://typonotes.com/posts/2023/01/02/pgsql-dump-and-restore/</guid><description>Pgsql数据库: psql 命令非交互式备份与恢复 通常， 我们在使用 psql 命令的时候， 使用交互式命令， 输入密码， 保证安全。 1 2 3 4 5 # 备份 pg_dump -U root -h 172.17.101.250 -W -d intelliep_event &amp;gt; demo.sql # 登录 psql -U root -h 172.17.101.250 -W -d intelliep_event &amp;lt; demo.sql 非交互式操作 但是在 脚本 中执行备份和恢复的时候， 交互式的输入密码就非常不方便了。 要实现非交互式， 非常简单。 只需要</description></item></channel></rss>