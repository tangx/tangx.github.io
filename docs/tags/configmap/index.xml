<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>configmap on 老麦的书房</title><link>https://typonotes.com/tags/configmap/</link><description>Recent content in configmap on 老麦的书房</description><generator>Hugo -- gohugo.io</generator><language>zh-CN</language><lastBuildDate>Fri, 24 Mar 2023 16:39:00 +0800</lastBuildDate><atom:link href="https://typonotes.com/tags/configmap/index.xml" rel="self" type="application/rss+xml"/><item><title>被坑惨了！！ 使用 ConfigMap 管理配置， 扩容导致配置不一致。</title><link>https://typonotes.com/posts/2023/03/24/k8s-scale-issue-with-configmap/</link><pubDate>Fri, 24 Mar 2023 16:39:00 +0800</pubDate><guid>https://typonotes.com/posts/2023/03/24/k8s-scale-issue-with-configmap/</guid><description>被坑惨了！！ 使用 ConfigMap 管理配置， Deployment 扩容引发配置不一致的惨案！ 如果在 公众号 文章发现状态为 已更新， 建议点击 查看原文 查看最新内容。 状态: 未更新 原文链接: https://typonotes.com/posts/2023/03/24/k8s-scale-issue-with-configmap/ 首先声明， 不是我！ 是一个朋友。 背景是这样的， 一个朋友给我说他遇到了一个情况。 Kubernetes Deployment 扩容后， 应用异常。 从请求结果来看， 应用在两种配置之间飘忽</description></item><item><title>K8S 中被挂载的 Configmap 发生了变化容器内部会发生什么</title><link>https://typonotes.com/posts/2021/12/02/configmap-mounting-scenario-when-updated/</link><pubDate>Thu, 02 Dec 2021 00:00:00 +0000</pubDate><guid>https://typonotes.com/posts/2021/12/02/configmap-mounting-scenario-when-updated/</guid><description>K8S 中被挂载的 Configmap 发生了变化容器内部会发生什么 1. 使用 env 挂载 被挂载的值不会变 1 2 3 4 5 6 7 env: # 定义环境变量 - name: PLAYER_INITIAL_LIVES # 请注意这里和 ConfigMap 中的键名是不一样的 valueFrom: configMapKeyRef: name: game-demo # 这个值来自 ConfigMap key: player_initial_lives # 需要取值的键 使用 volumeMounts 挂载目录 在使用 volumeMounts 挂载的时候， 根据是否有 subpath 参数， 情况也不一样。 2.1 没有 subpath 挂载目录 1 2 3 volumeMounts: - name: config mountPath: &amp;#34;/config/normal-dir/some-path/&amp;#34;</description></item></channel></rss>