<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>k3s on 老麦的书房</title><link>https://typonotes.com/tags/k3s/</link><description>Recent content in k3s on 老麦的书房</description><generator>Hugo -- gohugo.io</generator><language>zh-CN</language><lastBuildDate>Tue, 10 Jan 2023 10:28:03 +0800</lastBuildDate><atom:link href="https://typonotes.com/tags/k3s/index.xml" rel="self" type="application/rss+xml"/><item><title>开发 k8s 管理平台 - k8sailor - 01. 使用 k3s 快速搭建项目环境</title><link>https://typonotes.com/posts/books/k8sailor/chapter01/01-install-k3s-cluster/</link><pubDate>Tue, 10 Jan 2023 10:28:03 +0800</pubDate><guid>https://typonotes.com/posts/books/k8sailor/chapter01/01-install-k3s-cluster/</guid><description>开发 k8s 管理平台 - k8sailor - 01. 使用 k3s 快速搭建项目环境 原文地址: https://tangx.in/posts/books/k8sailor/chapter01/01-install-k3s-cluster/ 安装 k3s 安装过程参考 https://tangx.in/2021/06/07/k3s-architecture-single-server/ k3s 集群版本为 v1.21.4。 因此 k8s client-go sdk 的版本也需要安装对应版本 1 2 3 4 5 6 7 8 9 10 11 # curl -sfL http://rancher-mirror.cnrancher.com/k3s/k3s-install.sh | INSTALL_K3S_MIRROR=cn sh - [INFO] Finding release for channel stable [INFO] Using v1.21.4+k3s1 as release [INFO] Downloading hash http://rancher-mirror.cnrancher.com/k3s/v1.21.4-k3s1/sha256sum-amd64.txt [INFO] Downloading binary http://rancher-mirror.cnrancher.com/k3s/v1.21.4-k3s1/k3s [INFO] Verifying binary download [INFO] Installing k3s to /usr/local/bin/k3s ... 省略 初始化环境 通过命令创建一些工作负载， 以便后</description></item><item><title>开发 k8s 管理平台 - k8sailor 03. 使用 client-go sdk 链接集群</title><link>https://typonotes.com/posts/books/k8sailor/chapter01/03-connect-cluster/</link><pubDate>Tue, 10 Jan 2023 10:28:03 +0800</pubDate><guid>https://typonotes.com/posts/books/k8sailor/chapter01/03-connect-cluster/</guid><description>开发 k8s 管理平台 - k8sailor 03. 使用 client-go sdk 链接集群 原文地址: https://tangx.in/posts/books/k8sailor/chapter01/03-connect-cluster/ tag: https://github.com/tangx/k8sailor/tree/feat/02-connect-cluster 使用 sdk 链接 k3s cluster 并获取 deployment 信息 1 2 3 4 cd cmd/k8sailor &amp;amp;&amp;amp; go run . * my-nginx-1 (1 replicas) * my-nginx-2 (2 replicas) 下载 client-go sdk 之前在安装 k3s 集群的时候，版本是 v0.21.4。 因此。 这里选择 client-go sdk 的版本也是 v0.21.4 如果还有其他环境， 可以使用 go mod edit 命令锁定 client-go 的版本 1 2 3 go get k8s.io/client-go@v0.21.4 go mod edit -replace=k8s.io/client-go=k8s.io/client-go@v0.21.4 连接集群并获取</description></item><item><title>netfilter-五链四表 - 为什么服务器没有监听 80 端口却被k3s占用了</title><link>https://typonotes.com/posts/2021/06/27/k3s-and-netfilter/</link><pubDate>Sun, 27 Jun 2021 00:00:00 +0000</pubDate><guid>https://typonotes.com/posts/2021/06/27/k3s-and-netfilter/</guid><description>netfilter 五链四表 - 为什么服务器没有监听 80 端口却被k3s占用了 其实标题已经给出答案了。 希望大家都能夯实基础， 万事逃不过一个 道理和规则 。 现象 一天，发现服务器上 80 端口不能正常访问了， 无论怎么都是 404 page not found 。 这就奇怪了。 ssh 登录终端， 查看端口监听情况, nginx 服务器启动的好端端的在那里？ 1 2 3 4 5 netstat -tunpl |grep</description></item><item><title>5分钟k3s - k3s 使用外部数据库实现高可用</title><link>https://typonotes.com/posts/2021/06/16/k3s-cluster-ha/</link><pubDate>Wed, 16 Jun 2021 00:00:00 +0000</pubDate><guid>https://typonotes.com/posts/2021/06/16/k3s-cluster-ha/</guid><description>5分钟k3s - k3s 使用外部数据库实现高可用 hostname ipaddr master01 192.168.0.12 master01 192.168.0.45 agent01 192.168.0.111 1. 安装外置数据库 1 2 3 4 5 6 # 1. 安装一个外置数据库 # yum install mariadb mariadb-server ## ubuntu apt update apt install -y mysql-server 适配 mysql8.0 创建用户 1 2 3 4 5 6 7 8 -- mysql 8.0 创建解决办法: -- 创建账户:create user &amp;#39;用户名&amp;#39;@&amp;#39;访问主机&amp;#39; identified by &amp;#39;密</description></item><item><title>5分钟k3s - k3s单节点架构介绍与安装卸载管理</title><link>https://typonotes.com/posts/2021/06/07/k3s-architecture-single-server/</link><pubDate>Mon, 07 Jun 2021 00:00:00 +0000</pubDate><guid>https://typonotes.com/posts/2021/06/07/k3s-architecture-single-server/</guid><description>5分钟k3s - k3s单节点架构介绍与安装卸载管理 k3s 单 Server 节点架构 K3s 单节点集群的架构如下图所示，该集群有一个内嵌 SQLite 数据库的单节点 K3s server。 在这种配置中，每个 agent 节点都注册到同一个 server 节点。K3s 用户可以通过调用 server 节点上的 K3s API 来操作 Kubernetes 资源。 单节点k3s server的架构 Server 安装 安装条件</description></item><item><title>5分钟k3s-什么是 K3s? K3s 简介与适用场景介绍</title><link>https://typonotes.com/posts/2021/06/05/k3s-introduce/</link><pubDate>Sat, 05 Jun 2021 00:00:00 +0000</pubDate><guid>https://typonotes.com/posts/2021/06/05/k3s-introduce/</guid><description>什么是 K3s? K3s 是一个轻量级的 Kubernetes 发行版，它针对边缘计算、物联网等场景进行了高度优化。 K3s 有以下增强功能： 打包为单个二进制文件。 使用基于 sqlite3 的轻量级存储后端作为默认存储机制。同时支持使用 etcd3、MySQL 和 + PostgreSQL 作为存储机制。 封装在简单的启动程序中，通过该启动程序处理很多复杂的 TLS 和选项。 默</description></item></channel></rss>